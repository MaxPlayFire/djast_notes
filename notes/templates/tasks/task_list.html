{% extends 'base.html' %} {% block title %}Список задач{% endblock %} {% block content %}
<div>
    <h1>Список задач:</h1>
    <form method="get">
        <input type="text" name="q" placeholder="Пошук за заголовком або описом" value="{{ request.GET.q }}"> {{ filter_form.as_p }}
        <button type="submit">Фільтрувати</button></form>
    <button onclick="location.href='{% url 'task_create' %}'">Створити задачу</button>

    <ul>
        {% for task in tasks %}
        <li>
            <b><button onclick="location.href='{% url 'task_detail' task.pk %}'">{{ task.title }}</button></b> — {{ task.get_status_display }} ({{ task.get_priority_display }})
        </li>
        {% empty %}
        <li>Задач немає</li>
        {% endfor %}
    </ul>
    {% if is_paginated %}
    <div class="pagination">
        {% if page_obj.has_previous %}
        <button onclick="location.href='?page={{ page_obj.previous_page_number }}'">Попередня</button> {% endif %}
        <span>Сторінка {{ page_obj.number }} з {{ paginator.num_pages }}</span> {% if page_obj.has_next %}
        <button onclick="location.href='?page={{ page_obj.next_page_number }}'">Наступна</button> {% endif %}
    </div>
    {% endif %}
</div>
{% endblock %}